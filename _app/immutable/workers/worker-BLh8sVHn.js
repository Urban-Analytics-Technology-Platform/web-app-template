var Sn=Object.defineProperty;var Tn=(E,m,x)=>m in E?Sn(E,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):E[m]=x;var tn=(E,m,x)=>(Tn(E,typeof m!="symbol"?m+"":m,x),x);(function(){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E=Symbol("Comlink.proxy"),m=Symbol("Comlink.endpoint"),x=Symbol("Comlink.releaseProxy"),D=Symbol("Comlink.finalizer"),W=Symbol("Comlink.thrown"),G=n=>typeof n=="object"&&n!==null||typeof n=="function",rn={canHandle:n=>G(n)&&n[E],serialize(n){const{port1:e,port2:t}=new MessageChannel;return H(n,e),[t,[t]]},deserialize(n){return n.start(),an(n)}},on={canHandle:n=>G(n)&&W in n,serialize({value:n}){let e;return n instanceof Error?e={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:e={isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},J=new Map([["proxy",rn],["throw",on]]);function sn(n,e){for(const t of n)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function H(n,e=globalThis,t=["*"]){e.addEventListener("message",function r(o){if(!o||!o.data)return;if(!sn(t,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:u,type:s,path:_}=Object.assign({path:[]},o.data),g=(o.data.argumentList||[]).map(A);let b;try{const l=_.slice(0,-1).reduce((w,F)=>w[F],n),p=_.reduce((w,F)=>w[F],n);switch(s){case"GET":b=p;break;case"SET":l[_.slice(-1)[0]]=A(o.data.value),b=!0;break;case"APPLY":b=p.apply(l,g);break;case"CONSTRUCT":{const w=new p(...g);b=ln(w)}break;case"ENDPOINT":{const{port1:w,port2:F}=new MessageChannel;H(n,F),b=gn(w,[w])}break;case"RELEASE":b=void 0;break;default:return}}catch(l){b={value:l,[W]:0}}Promise.resolve(b).catch(l=>({value:l,[W]:0})).then(l=>{const[p,w]=$(l);e.postMessage(Object.assign(Object.assign({},p),{id:u}),w),s==="RELEASE"&&(e.removeEventListener("message",r),Y(e),D in n&&typeof n[D]=="function"&&n[D]())}).catch(l=>{const[p,w]=$({value:new TypeError("Unserializable return value"),[W]:0});e.postMessage(Object.assign(Object.assign({},p),{id:u}),w)})}),e.start&&e.start()}function cn(n){return n.constructor.name==="MessagePort"}function Y(n){cn(n)&&n.close()}function an(n,e){return V(n,[],e)}function N(n){if(n)throw new Error("Proxy has been released and is not useable")}function X(n){return T(n,{type:"RELEASE"}).then(()=>{Y(n)})}const z=new WeakMap,I="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(z.get(n)||0)-1;z.set(n,e),e===0&&X(n)});function un(n,e){const t=(z.get(e)||0)+1;z.set(e,t),I&&I.register(n,e,n)}function fn(n){I&&I.unregister(n)}function V(n,e=[],t=function(){}){let r=!1;const o=new Proxy(t,{get(u,s){if(N(r),s===x)return()=>{fn(o),X(n),r=!0};if(s==="then"){if(e.length===0)return{then:()=>o};const _=T(n,{type:"GET",path:e.map(g=>g.toString())}).then(A);return _.then.bind(_)}return V(n,[...e,s])},set(u,s,_){N(r);const[g,b]=$(_);return T(n,{type:"SET",path:[...e,s].map(l=>l.toString()),value:g},b).then(A)},apply(u,s,_){N(r);const g=e[e.length-1];if(g===m)return T(n,{type:"ENDPOINT"}).then(A);if(g==="bind")return V(n,e.slice(0,-1));const[b,l]=K(_);return T(n,{type:"APPLY",path:e.map(p=>p.toString()),argumentList:b},l).then(A)},construct(u,s){N(r);const[_,g]=K(s);return T(n,{type:"CONSTRUCT",path:e.map(b=>b.toString()),argumentList:_},g).then(A)}});return un(o,n),o}function _n(n){return Array.prototype.concat.apply([],n)}function K(n){const e=n.map($);return[e.map(t=>t[0]),_n(e.map(t=>t[1]))]}const Q=new WeakMap;function gn(n,e){return Q.set(n,e),n}function ln(n){return Object.assign(n,{[E]:!0})}function $(n){for(const[e,t]of J)if(t.canHandle(n)){const[r,o]=t.serialize(n);return[{type:"HANDLER",name:e,value:r},o]}return[{type:"RAW",value:n},Q.get(n)||[]]}function A(n){switch(n.type){case"HANDLER":return J.get(n.name).deserialize(n.value);case"RAW":return n.value}}function T(n,e,t){return new Promise(r=>{const o=bn();n.addEventListener("message",function u(s){!s.data||!s.data.id||s.data.id!==o||(n.removeEventListener("message",u),r(s.data))}),n.start&&n.start(),n.postMessage(Object.assign({id:o},e),t)})}function bn(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let f;const Z=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Z.decode();let R=null;function L(){return(R===null||R.byteLength===0)&&(R=new Uint8Array(f.memory.buffer)),R}function M(n,e){return n=n>>>0,Z.decode(L().subarray(n,n+e))}const y=new Array(128).fill(void 0);y.push(void 0,null,!0,!1);let O=y.length;function c(n){O===y.length&&y.push(y.length+1);const e=O;if(O=y[e],typeof O!="number")throw new Error("corrupt heap");return y[e]=n,e}function i(n){return y[n]}function h(n){if(typeof n!="boolean")throw new Error(`expected a boolean argument, found ${typeof n}`)}function U(n){return n==null}function C(n){if(typeof n!="number")throw new Error(`expected a number argument, found ${typeof n}`)}let j=null;function wn(){return(j===null||j.byteLength===0)&&(j=new Float64Array(f.memory.buffer)),j}let P=null;function d(){return(P===null||P.byteLength===0)&&(P=new Int32Array(f.memory.buffer)),P}function dn(n){n<132||(y[n]=O,O=n)}function nn(n){const e=i(n);return dn(n),e}let S=0;const B=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},mn=typeof B.encodeInto=="function"?function(n,e){return B.encodeInto(n,e)}:function(n,e){const t=B.encode(n);return e.set(t),{read:n.length,written:t.length}};function q(n,e,t){if(typeof n!="string")throw new Error(`expected a string argument, found ${typeof n}`);if(t===void 0){const _=B.encode(n),g=e(_.length,1)>>>0;return L().subarray(g,g+_.length).set(_),S=_.length,g}let r=n.length,o=e(r,1)>>>0;const u=L();let s=0;for(;s<r;s++){const _=n.charCodeAt(s);if(_>127)break;u[o+s]=_}if(s!==r){s!==0&&(n=n.slice(s)),o=t(o,r,r=s+n.length*3,1)>>>0;const _=L().subarray(o+s,o+r),g=mn(n,_);if(g.read!==n.length)throw new Error("failed to pass whole string");s+=g.written,o=t(o,r,s,1)>>>0}return S=s,o}function v(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let u="[";o>0&&(u+=v(n[0]));for(let s=1;s<o;s++)u+=", "+v(n[s]);return u+="]",u}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}function yn(n,e){const t=e(n.length*1,1)>>>0;return L().set(n,t/1),S=n.length,t}function a(n,e){try{return n.apply(this,e)}catch(t){let r=function(){try{return t instanceof Error?`${t.message}

Stack:
${t.stack}`:t.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",r),t}}function k(n,e){try{return n.apply(this,e)}catch(t){f.__wbindgen_exn_store(c(t))}}const hn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>f.__wbg_backend_free(n>>>0));let pn=class{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,hn.unregister(this),e}free(){const e=this.__destroy_into_raw();f.__wbg_backend_free(e)}constructor(e,t){const r=yn(e,f.__wbindgen_malloc),o=S,u=f.backend_new(r,o,c(t));return this.__wbg_ptr=u>>>0,this}exampleCall(e){let t,r;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const l=f.__wbindgen_add_to_stack_pointer(-16);C(this.__wbg_ptr),f.backend_exampleCall(l,this.__wbg_ptr,c(e));var o=d()[l/4+0],u=d()[l/4+1],s=d()[l/4+2],_=d()[l/4+3],g=o,b=u;if(_)throw g=0,b=0,nn(s);return t=g,r=b,M(g,b)}finally{f.__wbindgen_add_to_stack_pointer(16),f.__wbindgen_free(t,r,1)}}};async function En(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function kn(){const n={};return n.wbg={},n.wbg.__wbindgen_string_new=function(e,t){const r=M(e,t);return c(r)},n.wbg.__wbindgen_error_new=function(e,t){const r=new Error(M(e,t));return c(r)},n.wbg.__wbindgen_is_undefined=function(e){const t=i(e)===void 0;return h(t),t},n.wbg.__wbindgen_in=function(e,t){const r=i(e)in i(t);return h(r),r},n.wbg.__wbindgen_number_get=function(e,t){const r=i(t),o=typeof r=="number"?r:void 0;U(o)||C(o),wn()[e/8+1]=U(o)?0:o,d()[e/4+0]=!U(o)},n.wbg.__wbindgen_is_object=function(e){const t=i(e),r=typeof t=="object"&&t!==null;return h(r),r},n.wbg.__wbindgen_object_drop_ref=function(e){nn(e)},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(){return a(function(e,t){const r=i(e)[i(t)];return c(r)},arguments)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=i(e);return c(t)},n.wbg.__wbindgen_jsval_loose_eq=function(e,t){const r=i(e)==i(t);return h(r),r},n.wbg.__wbindgen_boolean_get=function(e){const t=i(e),r=typeof t=="boolean"?t?1:0:2;return C(r),r},n.wbg.__wbindgen_string_get=function(e,t){const r=i(t),o=typeof r=="string"?r:void 0;var u=U(o)?0:q(o,f.__wbindgen_malloc,f.__wbindgen_realloc),s=S;d()[e/4+1]=s,d()[e/4+0]=u},n.wbg.__wbg_debug_5fb96680aecf5dc8=function(){return a(function(e){console.debug(i(e))},arguments)},n.wbg.__wbg_error_8e3928cfb8a43e2b=function(){return a(function(e){console.error(i(e))},arguments)},n.wbg.__wbg_info_530a29cb2e4e3304=function(){return a(function(e){console.info(i(e))},arguments)},n.wbg.__wbg_log_5bb5f88f245d7762=function(){return a(function(e){console.log(i(e))},arguments)},n.wbg.__wbg_warn_63bbae1730aead09=function(){return a(function(e){console.warn(i(e))},arguments)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return a(function(){const e=new Error;return c(e)},arguments)},n.wbg.__wbg_stack_658279fe44541cf6=function(){return a(function(e,t){const r=i(t).stack,o=q(r,f.__wbindgen_malloc,f.__wbindgen_realloc),u=S;d()[e/4+1]=u,d()[e/4+0]=o},arguments)},n.wbg.__wbg_error_f851667af71bcfc6=function(){return a(function(e,t){let r,o;try{r=e,o=t,console.error(M(e,t))}finally{f.__wbindgen_free(r,o,1)}},arguments)},n.wbg.__wbg_now_abd80e969af37148=function(){return a(function(e){return i(e).now()},arguments)},n.wbg.__wbg_performance_a1b8bde2ee512264=function(){return a(function(e){const t=i(e).performance;return c(t)},arguments)},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(){return a(function(e,t){const r=i(e)[t>>>0];return c(r)},arguments)},n.wbg.__wbg_length_cd7af8117672b8b8=function(){return a(function(e){const t=i(e).length;return C(t),t},arguments)},n.wbg.__wbindgen_is_function=function(e){const t=typeof i(e)=="function";return h(t),t},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(){return a(function(e,t){const r=new Function(M(e,t));return c(r)},arguments)},n.wbg.__wbg_next_40fc327bfc8770e6=function(){return a(function(e){const t=i(e).next;return c(t)},arguments)},n.wbg.__wbg_next_196c84450b364254=function(){return k(function(e){const t=i(e).next();return c(t)},arguments)},n.wbg.__wbg_done_298b57d23c0fc80c=function(){return a(function(e){const t=i(e).done;return h(t),t},arguments)},n.wbg.__wbg_value_d93c65011f51a456=function(){return a(function(e){const t=i(e).value;return c(t)},arguments)},n.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return a(function(){return c(Symbol.iterator)},arguments)},n.wbg.__wbg_get_e3c254076557e348=function(){return k(function(e,t){const r=Reflect.get(i(e),i(t));return c(r)},arguments)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return k(function(e,t){const r=i(e).call(i(t));return c(r)},arguments)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return k(function(){const e=self.self;return c(e)},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return k(function(){const e=window.window;return c(e)},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return k(function(){const e=globalThis.globalThis;return c(e)},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return k(function(){const e=global.global;return c(e)},arguments)},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(){return a(function(e){const t=Array.isArray(i(e));return h(t),t},arguments)},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(){return a(function(e){let t;try{t=i(e)instanceof ArrayBuffer}catch{t=!1}const r=t;return h(r),r},arguments)},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return k(function(e,t,r){const o=i(e).call(i(t),i(r));return c(o)},arguments)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(){return a(function(e){const t=i(e).buffer;return c(t)},arguments)},n.wbg.__wbg_new_63b92bc8671ed464=function(){return a(function(e){const t=new Uint8Array(i(e));return c(t)},arguments)},n.wbg.__wbg_set_a47bac70306a19a7=function(){return a(function(e,t,r){i(e).set(i(t),r>>>0)},arguments)},n.wbg.__wbg_length_c20a40f15020d68a=function(){return a(function(e){const t=i(e).length;return C(t),t},arguments)},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(){return a(function(e){let t;try{t=i(e)instanceof Uint8Array}catch{t=!1}const r=t;return h(r),r},arguments)},n.wbg.__wbindgen_debug_string=function(e,t){const r=v(i(t)),o=q(r,f.__wbindgen_malloc,f.__wbindgen_realloc),u=S;d()[e/4+1]=u,d()[e/4+0]=o},n.wbg.__wbindgen_throw=function(e,t){throw new Error(M(e,t))},n.wbg.__wbindgen_memory=function(){const e=f.memory;return c(e)},n}function xn(n,e){return f=n.exports,en.__wbindgen_wasm_module=e,j=null,P=null,R=null,f}async function en(n){if(f!==void 0)return f;typeof n>"u"&&(n="assets/rust_backend_bg.wasm");const e=kn();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await En(await n,e);return xn(t,r)}class An{constructor(){tn(this,"inner");this.inner=null}async loadInput(e,t){await en(),this.inner=new pn(e,t)}unset(){this.inner=null}isLoaded(){return this.inner!=null}exampleCall(e){if(!this.inner)throw new Error("Backend used before ready");return JSON.parse(this.inner.exampleCall({center:e.center,distance_meters:e.distanceMeters}))}}H(An)})();
