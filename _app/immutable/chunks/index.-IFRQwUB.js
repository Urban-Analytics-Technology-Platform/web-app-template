import{n as o}from"./runtime.r5jb-xvO.js";function p(e,n,t){if(e==null)return n(void 0),o;const u=e.subscribe(n,t);return u.unsubscribe?()=>u.unsubscribe():u}const i=[];function a(e,n){return{subscribe:_(e,n).subscribe}}function d(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function _(e,n=o){let t=null;const u=new Set;function c(r){if(d(e,r)&&(e=r,t)){const b=!i.length;for(const s of u)s[1](),i.push(s,e);if(b){for(let s=0;s<i.length;s+=2)i[s][0](i[s+1]);i.length=0}}}function f(r){c(r(e))}function l(r,b=o){const s=[r,b];return u.add(s),u.size===1&&(t=n(c,f)||o),r(e),()=>{u.delete(s),u.size===0&&t&&(t(),t=null)}}return{set:c,update:f,subscribe:l}}function h(e){let n;return p(e,t=>n=t)(),n}export{h as g,a as r,p as s,_ as w};
